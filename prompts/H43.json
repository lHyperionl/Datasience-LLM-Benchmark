{
  "prompt": "Write Python code to perform classification on the penguins.csv dataset with advanced preprocessing. The code should: 1) Load the dataset. 2) Define features `X` using `culmen_length_mm`, `culmen_depth_mm`, `flipper_length_mm`, `body_mass_g`, `island`, and `sex`. The target `y` is `species`. 3) Impute missing values in numerical features (`culmen_length_mm`, `culmen_depth_mm`, `flipper_length_mm`, `body_mass_g`) using their respective medians. 4) Impute missing values in categorical features (`sex`, `island`) using their respective modes. (Note: if a row still has NA in `island` after mode imputation, e.g. if all were NA, it can be dropped, or a placeholder like 'Unknown' can be used if mode is NA itself. For this task, if mode imputation results in NA for island, drop those rows). 5) One-hot encode the categorical features `island` and `sex` (after imputation). 6) Scale all numerical features (after imputation) using StandardScaler. 7) Train a RandomForestClassifier model (`n_estimators=100`, `random_state=42`) using the preprocessed features and the `species` target (which should be label encoded if not already numeric). 8) Evaluate the model using 5-fold cross-validated accuracy score and print the mean accuracy. Include proper imports. Assume the CSV file is in the current directory. Provide only the Python code without explanations.",
  "difficulty": "hard",
  "category": "Classification",
  "dataset_reference": "penguins.csv",
  "evaluation_criteria": "Code should load data, correctly impute numerical (median) and categorical (mode) NAs, one-hot encode `island` and `sex`, scale numerical features, train RandomForestClassifier, and report mean 5-fold cross-validated accuracy for predicting `species`."
}
